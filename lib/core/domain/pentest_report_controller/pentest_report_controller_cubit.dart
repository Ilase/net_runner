import 'package:bloc/bloc.dart';
import 'package:meta/meta.dart';
import 'package:net_runner/core/domain/api/models/task_report_serial/pentest/pentest_report_serial.dart';

part 'pentest_report_controller_state.dart';

class PentestReportControllerCubit extends Cubit<PentestReportControllerState> {
  PentestReportControllerCubit() : super(PentestReportControllerInitial());

  void getTask(Map<String, dynamic> task) async {
    emit(LoadingTaskState());
    final report = PentestReport.fromJson(task);
    emit(GetTaskState(task: report));
  }

  void clearTask() {
    emit(EmptyState());
  }
}
